<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>FitFlow — Daily Gym Workouts</title>

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.5/font/bootstrap-icons.css" rel="stylesheet">

  <style>
    :root{--bg:#f8f9fa;--card:#fff;--text:#0b1220;--accent:#0d6efd}
    [data-theme="dark"]{--bg:#0b1220;--card:#0f1720;--text:#e6eef8;--accent:#66b2ff}

    body{background:linear-gradient(180deg, var(--bg), #e9eefb);color:var(--text);transition:background .35s, color .35s}
    header{backdrop-filter: blur(6px)}
    .card{background:var(--card); border:0; box-shadow:0 6px 18px rgba(12,20,35,.08); transition:transform .22s, box-shadow .22s}
    .card:hover{transform:translateY(-6px); box-shadow:0 10px 30px rgba(12,20,35,.12)}
    .exercise-img{height:110px; object-fit:cover; border-radius:8px}
    .muted-small{font-size:.85rem; color:rgba(11,18,32,.6)}
    .chip{display:inline-flex;align-items:center;padding:.25rem .5rem;border-radius:999px;background:rgba(13,110,253,.08);color:var(--accent);font-weight:600}

    /* responsive tweaks for cards */
    @media (max-width:576px){
      .exercise-img{height:90px}
      .sidebar{display:none}
    }

    /* subtle entrance animation */
    .fade-in-up{opacity:0; transform:translateY(10px); animation:fadeUp .55s forwards}
    @keyframes fadeUp{to{opacity:1;transform:none}}

    /* day pill */
    .day-pill{font-weight:700; padding:.35rem .7rem; border-radius:999px}
  </style>
</head>
<body data-theme="light">

<nav class="navbar navbar-expand-lg sticky-top py-3" style="background:linear-gradient(90deg, rgba(255,255,255,.8), rgba(255,255,255,.65));">
  <div class="container">
    <a class="navbar-brand d-flex align-items-center gap-2" href="#">
      <i class="bi bi-heart-pulse-fill fs-3" style="color:var(--accent)"></i>
      <div>
        <div style="font-weight:800">FitFlow</div>
        <small class="text-muted">Daily Gym Workouts</small>
      </div>
    </a>

    <div class="d-flex align-items-center gap-3">
      <div class="me-2 text-end d-none d-md-block">
        <div id="todayLabel" class="day-pill bg-light text-secondary"></div>
        <div id="dateLabel" class="muted-small"></div>
      </div>

      <div class="form-check form-switch me-2">
        <input class="form-check-input" type="checkbox" id="darkToggle">
        <label class="form-check-label muted-small" for="darkToggle">Dark</label>
      </div>

      <button class="btn btn-outline-primary d-md-none" id="openFilters"><i class="bi bi-filter"></i></button>
    </div>
  </div>
</nav>

<main class="container my-4">
  <div class="row">
    <!-- Sidebar / Saved Plans -->
    <aside class="col-lg-3 mb-3 sidebar">
      <div class="card p-3 mb-3">
        <h5 class="mb-1">Today's Focus</h5>
        <p class="muted-small">We recommend workouts based on the weekday.</p>
        <div class="d-flex gap-2 flex-wrap" id="focusChips"></div>
      </div>

      <div class="card p-3 mb-3">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <h6 class="mb-0">Saved Plans</h6>
          <button class="btn btn-sm btn-link text-danger" id="clearPlans">Clear</button>
        </div>
        <div id="plansList" class="list-group"></div>
        <div class="mt-3">
          <input id="planName" class="form-control form-control-sm mb-2" placeholder="Plan name (eg. Push Day)">
          <button id="savePlan" class="btn btn-primary btn-sm w-100">Save Current Selection</button>
        </div>
      </div>

      <div class="card p-3">
        <h6 class="mb-2">Quick Filters</h6>
        <div class="d-flex gap-2 flex-wrap mb-2">
          <button class="btn btn-outline-secondary btn-sm" data-filter="all">All</button>
          <button class="btn btn-outline-secondary btn-sm" data-filter="chest">Chest</button>
          <button class="btn btn-outline-secondary btn-sm" data-filter="back">Back</button>
          <button class="btn btn-outline-secondary btn-sm" data-filter="legs">Legs</button>
          <button class="btn btn-outline-secondary btn-sm" data-filter="shoulders">Shoulders</button>
          <button class="btn btn-outline-secondary btn-sm" data-filter="arms">Arms</button>
          <button class="btn btn-outline-secondary btn-sm" data-filter="core">Core</button>
          <button class="btn btn-outline-secondary btn-sm" data-filter="cardio">Cardio</button>
        </div>
        <input id="searchBox" class="form-control form-control-sm" placeholder="Search exercise...">
      </div>
    </aside>

    <!-- Main content -->
    <section class="col-lg-9">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h4 class="mb-0">Exercises</h4>
        <div>
          <small class="muted-small me-2">Choose exercises and build your plan</small>
          <button id="selectAll" class="btn btn-sm btn-outline-primary me-1">Select all</button>
          <button id="deselectAll" class="btn btn-sm btn-outline-secondary">Clear</button>
        </div>
      </div>

      <div id="exList" class="row g-3"></div>

    </section>
  </div>
</main>

<footer class="text-center py-4 muted-small">
  Crafted with <i class="bi bi-heart-fill" style="color:var(--accent)"></i> • FitFlow • &copy; <span id="year"></span>
</footer>

<!-- Bootstrap JS and dependencies -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
// --------------------------- Data: exercises --------------------------------
const EXERCISES = [
  {name:'Barbell Bench Press', muscle:'chest', desc:'Compound pressing movement for chest strength and mass.'},
  {name:'Dumbbell Incline Press', muscle:'chest', desc:'Targets upper chest and front delts with greater range.'},
  {name:'Push-Ups', muscle:'chest', desc:'Bodyweight chest builder; great for endurance and form.'},
  {name:'Chest Fly (Dumbbell)', muscle:'chest', desc:'Isolation move to stretch and finish the chest.'},

  {name:'Pull-Ups', muscle:'back', desc:'Vertical pulling movement for lats and upper back.'},
  {name:'Bent-Over Row', muscle:'back', desc:'Heavy compound row for thickness and posterior chain.'},
  {name:'Lat Pulldown', muscle:'back', desc:'Lat-focused alternative to pull-ups for volume.'},
  {name:'Seated Cable Row', muscle:'back', desc:'Horizontal pulling for mid-back engagement.'},

  {name:'Back Squat', muscle:'legs', desc:'King of leg exercises — quad and glute powerhouse.'},
  {name:'Front Squat', muscle:'legs', desc:'Quad-dominant squat with upright torso emphasis.'},
  {name:'Romanian Deadlift', muscle:'legs', desc:'Hamstring and glute builder with hinge pattern.'},
  {name:'Leg Press', muscle:'legs', desc:'Brute volume for quads and glutes with controlled load.'},

  {name:'Overhead Press', muscle:'shoulders', desc:'Main compound shoulder builder; also works triceps.'},
  {name:'Lateral Raise', muscle:'shoulders', desc:'Isolation for side delts and shoulder width.'},
  {name:'Face Pull', muscle:'shoulders', desc:'Rear delt and upper back health movement.'},
  {name:'Arnold Press', muscle:'shoulders', desc:'Rotational press for full shoulder development.'},

  {name:'Barbell Curl', muscle:'arms', desc:'Classic biceps strength exercise.'},
  {name:'Dumbbell Hammer Curl', muscle:'arms', desc:'Brachialis and forearm emphasis.'},
  {name:'Skull Crushers', muscle:'arms', desc:'Triceps isolation with long head stretch.'},
  {name:'Tricep Pushdown', muscle:'arms', desc:'Cable movement for triceps peak contraction.'},

  {name:'Plank', muscle:'core', desc:'Static core stability and anti-extension training.'},
  {name:'Hanging Leg Raise', muscle:'core', desc:'Intense lower-ab focused movement.'},
  {name:'Russian Twist', muscle:'core', desc:'Rotational core movement for obliques.'},
  {name:'Ab Wheel Rollout', muscle:'core', desc:'Advanced anti-extension move for core strength.'},

  {name:'Burpees', muscle:'cardio', desc:'Full-body conditioning exercise with high heart rate.'},
  {name:'Battle Ropes', muscle:'cardio', desc:'Upper-body metcon for power and conditioning.'},
  {name:'Jump Rope', muscle:'cardio', desc:'Simple, effective cardio for coordination and stamina.'},
  {name:'Cycling (Stationary)', muscle:'cardio', desc:'Low-impact cardio to build endurance.'},

  {name:'Calf Raise', muscle:'legs', desc:'Isolation to build calf size and strength.'},
  {name:'Glute Bridge', muscle:'legs', desc:'Glute activation and posterior chain builder.'},
  {name:'Single-Leg Romanian Deadlift', muscle:'legs', desc:'Balance and hamstring-focused unilateral move.'},

  {name:'Incline Dumbbell Row', muscle:'back', desc:'Upper-back isolation with strict movement.'},
  {name:'Cable Fly', muscle:'chest', desc:'Adjustable angle fly for chest shaping.'},
  {name:'EZ-Bar Preacher Curl', muscle:'arms', desc:'Controlled curling for strict peak contraction.'},
  {name:'Farmer\'s Walk', muscle:'fullbody', desc:'Grip, core and full-body conditioning carry.'},
  {name:'Turkish Get-Up', muscle:'fullbody', desc:'Mobility and full-body strength sequence.'}
];

// --------------------------- Day mapping --------------------------------
const DAY_MAP = {
  0: {name:'Sunday', focus:['mobility','core','cardio']},
  1: {name:'Monday', focus:['chest','triceps','shoulders']},
  2: {name:'Tuesday', focus:['back','biceps']},
  3: {name:'Wednesday', focus:['legs']},
  4: {name:'Thursday', focus:['shoulders','chest']},
  5: {name:'Friday', focus:['arms','core']},
  6: {name:'Saturday', focus:['fullbody','cardio']}
};

// --------------------------- State --------------------------------
let selected = new Set();
const LS_PLANS_KEY = 'fitflow_plans_v1';
const LS_THEME_KEY = 'fitflow_theme_v1';

// --------------------------- Utilities --------------------------------
function qs(sel, root=document) {return root.querySelector(sel)}
function qsa(sel, root=document) {return [...root.querySelectorAll(sel)]}

// --------------------------- Rendering --------------------------------
function renderDate(){
  const now = new Date();
  const day = now.getDay();
  const map = DAY_MAP[day];
  qs('#todayLabel').textContent = map.name;
  qs('#dateLabel').textContent = now.toLocaleDateString();
  const chips = qs('#focusChips'); chips.innerHTML='';
  map.focus.forEach(f=>{
    const el = document.createElement('span'); el.className='chip me-1 mb-1'; el.textContent = f.toUpperCase(); chips.appendChild(el);
  })
}

function renderExercises(filterTerm='all', search=''){
  const container = qs('#exList'); container.innerHTML='';
  const now = new Date(); const dayFocus = DAY_MAP[now.getDay()].focus;

  // sort so day focus appear on top
  const sorted = EXERCISES.slice().sort((a,b)=>{
    const ai = dayFocus.includes(a.muscle) ? -1 : 1;
    const bi = dayFocus.includes(b.muscle) ? -1 : 1;
    return ai - bi;
  });

  sorted.forEach((ex,i)=>{
    const nameLower = ex.name.toLowerCase();
    if(filterTerm!=='all' && ex.muscle !== filterTerm) return;
    if(search && !nameLower.includes(search.toLowerCase()) && !ex.muscle.includes(search.toLowerCase())) return;

    const col = document.createElement('div'); col.className='col-md-6 col-lg-4 fade-in-up';
    col.style.animationDelay = (i*30)+'ms';

    const card = document.createElement('div'); card.className='card p-3 h-100';
    card.innerHTML = `
      <div class="d-flex gap-3">
        <img src="https://images.unsplash.com/photo-1558611848-73f7eb4001d5?q=80&w=400&auto=format&fit=crop&s=placeholder" class="exercise-img" alt="${ex.name}">
        <div class="flex-grow-1">
          <div class="d-flex justify-content-between align-items-start">
            <h6 class="mb-1" title="${ex.name}">${ex.name}</h6>
            <div>
              <input type="checkbox" class="form-check-input sel-check" data-name="${ex.name}">
            </div>
          </div>
          <div class="muted-small mb-2">${ex.desc}</div>
          <div class="d-flex gap-2 flex-wrap">
            <span class="badge bg-light text-secondary">${ex.muscle}</span>
            <small class="muted-small">${suggestIntensity(ex.muscle)}</small>
          </div>
        </div>
      </div>
    `;

    container.appendChild(col);
    col.appendChild(card);
  });

  // update checkboxes based on selected
  qsa('.sel-check').forEach(cb=>{
    cb.checked = selected.has(cb.dataset.name);
    cb.addEventListener('change', e=>{
      if(e.target.checked) selected.add(e.target.dataset.name); else selected.delete(e.target.dataset.name);
      // silently persist current selection to local storage (no messages)
      localStorage.setItem('fitflow_current_selection', JSON.stringify([...selected]));
    })
  });
}

function suggestIntensity(muscle){
  if(['cardio','fullbody','legs'].includes(muscle)) return 'Intensity: High';
  if(['core','back','chest'].includes(muscle)) return 'Intensity: Moderate';
  return 'Intensity: Low-Moderate';
}

// --------------------------- Plans --------------------------------
function loadPlans(){
  try{
    const raw = localStorage.getItem(LS_PLANS_KEY); return raw? JSON.parse(raw): [];
  }catch(e){return []}
}
function savePlans(plans){ localStorage.setItem(LS_PLANS_KEY, JSON.stringify(plans)); }

function renderPlans(){
  const list = qs('#plansList'); list.innerHTML='';
  const plans = loadPlans();
  if(plans.length===0){ list.innerHTML='<div class="text-muted small">No saved plans yet</div>'; return; }
  plans.forEach((p,idx)=>{
    const a = document.createElement('div'); a.className='list-group-item list-group-item-action d-flex justify-content-between align-items-start';
    a.innerHTML = `<div><strong>${p.name}</strong><div class="muted-small">${p.items.length} exercises</div></div><div class="d-flex gap-2 align-items-center"><button class="btn btn-sm btn-outline-secondary load-plan" data-idx="${idx}">Load</button><button class="btn btn-sm btn-danger del-plan" data-idx="${idx}">Del</button></div>`;
    list.appendChild(a);
  });

  qsa('.load-plan').forEach(btn=>btn.addEventListener('click', e=>{
    const idx = +e.target.dataset.idx; const plans = loadPlans(); const p = plans[idx];
    selected = new Set(p.items); localStorage.setItem('fitflow_current_selection', JSON.stringify([...selected])); renderExercises(currentFilter, qs('#searchBox').value); renderPlans();
  }));
  qsa('.del-plan').forEach(btn=>btn.addEventListener('click', e=>{
    const idx = +e.target.dataset.idx; let plans = loadPlans(); plans.splice(idx,1); savePlans(plans); renderPlans();
  }));
}

// --------------------------- Theme --------------------------------
function initTheme(){
  const pref = localStorage.getItem(LS_THEME_KEY) || 'light';
  setTheme(pref);
  qs('#darkToggle').checked = (pref==='dark');
  qs('#darkToggle').addEventListener('change', e=>{
    const t = e.target.checked? 'dark':'light'; setTheme(t); localStorage.setItem(LS_THEME_KEY, t);
  })
}
function setTheme(t){
  document.body.setAttribute('data-theme', t);
}

// --------------------------- Events --------------------------------
let currentFilter = 'all';
function attachEvents(){
  qsa('[data-filter]').forEach(btn=>btn.addEventListener('click', e=>{
    currentFilter = e.target.dataset.filter; renderExercises(currentFilter, qs('#searchBox').value);
  }));

  qs('#searchBox').addEventListener('input', e=>{
    renderExercises(currentFilter, e.target.value);
  });

  qs('#selectAll').addEventListener('click', ()=>{
    EXERCISES.forEach(ex=>selected.add(ex.name)); localStorage.setItem('fitflow_current_selection', JSON.stringify([...selected])); renderExercises(currentFilter, qs('#searchBox').value);
  });
  qs('#deselectAll').addEventListener('click', ()=>{ selected.clear(); localStorage.setItem('fitflow_current_selection', JSON.stringify([...selected])); renderExercises(currentFilter, qs('#searchBox').value); });

  qs('#savePlan').addEventListener('click', ()=>{
    const name = qs('#planName').value.trim() || ('Plan ' + new Date().toLocaleString());
    const plans = loadPlans(); plans.unshift({name, items:[...selected]}); savePlans(plans); renderPlans(); qs('#planName').value='';
    // do not show any toast/alert; saved silently as requested
  });

  qs('#clearPlans').addEventListener('click', ()=>{ localStorage.removeItem(LS_PLANS_KEY); renderPlans(); });

  // open filters on mobile
  qs('#openFilters').addEventListener('click', ()=>{ const side = qs('.sidebar'); side.style.display = side.style.display==='none' || !side.style.display? 'block':'none'; });
}

// --------------------------- Init --------------------------------
(function init(){
  renderDate();
  initTheme();
  // load previous selection
  try{ const prev = JSON.parse(localStorage.getItem('fitflow_current_selection')||'[]'); selected = new Set(prev); }catch(e){selected=new Set()}
  renderExercises(); renderPlans(); attachEvents();
  qs('#year').textContent = new Date().getFullYear();

  // subtle interval to update day at midnight without reload
  setInterval(()=>{ renderDate(); renderExercises(currentFilter, qs('#searchBox').value); }, 60*1000);
})();

</script>
</body>
</html>
